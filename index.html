<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My CloudSpace</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --glass-border: rgba(255, 255, 255, 0.08);
            --glass-bg: rgba(20, 20, 20, 0.4);
            --glass-blur: 40px;
        }
        body {
            font-family: 'Inter', system-ui, sans-serif;
            background-color: #050505;
            color: #fff;
            overflow-x: hidden;
        }
        .glass {
            background: var(--glass-bg);
            backdrop-filter: blur(var(--glass-blur));
            -webkit-backdrop-filter: blur(var(--glass-blur));
            border: 1px solid var(--glass-border);
        }
        .hover-lift { transition: transform 0.2s ease, background-color 0.2s; }
        .hover-lift:hover { transform: translateY(-2px); background-color: rgba(255,255,255,0.08); }
        .grid-card {
            aspect-ratio: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        /* 动态背景动画 */
        @keyframes gradient { 
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .live-bg {
            position: fixed; inset: 0; z-index: -1;
            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
            background-size: 400% 400%;
            animation: gradient 30s ease infinite;
            opacity: 0.15;
        }
        .no-scrollbar::-webkit-scrollbar { display: none; }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center selection:bg-purple-500/30">

    <script>
        const CONFIG = {
            // 你的名字
            greetingName: "Master",
            
            // 城市坐标 (用于天气，去 Google Maps 查一下你的经纬度填在这里)
            // 默认: 北京
            geo: { lat: 39.9042, lon: 116.4074 },

            // 快捷方式列表
            shortcuts: [
                { title: 'Google', url: 'https://www.google.com', color: 'text-blue-400' },
                { title: 'YouTube', url: 'https://www.youtube.com', color: 'text-red-500' },
                { title: 'GitHub', url: 'https://github.com', color: 'text-white' },
                { title: 'ChatGPT', url: 'https://chat.openai.com', color: 'text-emerald-400' },
                { title: 'DeepSeek', url: 'https://chat.deepseek.com/', color: 'text-blue-600' },
                { title: 'Gmail', url: 'https://mail.google.com', color: 'text-red-400' },
                { title: 'Twitter', url: 'https://twitter.com', color: 'text-sky-400' },
                { title: 'Notion', url: 'https://notion.so', color: 'text-white' },
                { title: 'Bilibili', url: 'https://bilibili.com', color: 'text-pink-400' },
                { title: 'Vercel', url: 'https://vercel.com', color: 'text-white' }
            ]
        };
    </script>
    <div class="live-bg"></div>

    <div class="fixed top-0 w-full px-6 py-4 flex justify-between items-center text-xs font-mono text-white/40 z-20">
        <div class="flex items-center gap-4">
            <span id="live-btc" class="flex items-center gap-1 hover:text-yellow-400 transition-colors cursor-default">
                <i data-lucide="bitcoin" class="w-3 h-3"></i> --
            </span>
            <span id="live-eth" class="flex items-center gap-1 hover:text-purple-400 transition-colors cursor-default">
                <i data-lucide="activity" class="w-3 h-3"></i> --
            </span>
        </div>
        <div id="live-weather" class="flex items-center gap-2 hover:text-blue-300 transition-colors cursor-default">
            <i data-lucide="cloud" class="w-3 h-3"></i> Loading Weather...
        </div>
    </div>

    <main class="w-full max-w-3xl px-6 flex flex-col items-center gap-12 z-10 animate-[fadeIn_0.5s_ease-out]">
        
        <div class="text-center space-y-2">
            <h1 id="clock" class="text-7xl sm:text-8xl font-light tracking-tighter text-transparent bg-clip-text bg-gradient-to-b from-white to-white/50 font-[Inter]">00:00</h1>
            <p id="greeting" class="text-white/40 text-sm tracking-[0.2em] uppercase font-mono"></p>
        </div>

        <div class="w-full glass rounded-full p-2 flex items-center shadow-2xl group focus-within:ring-1 ring-white/20 transition-all">
            <div class="pl-4 pr-3 text-white/30"><i data-lucide="search" class="w-5 h-5"></i></div>
            <input type="text" id="search-input" 
                class="flex-1 bg-transparent text-lg outline-none text-white placeholder-white/20 h-10 font-light"
                placeholder="Search everything..." autocomplete="off" autofocus>
            
            <div class="flex items-center pr-2 gap-1">
                <button onclick="app.search('lens')" class="p-2 rounded-full hover:bg-white/10 text-white/40 hover:text-blue-400 transition-colors" title="识图"><i data-lucide="camera" class="w-4 h-4"></i></button>
                <button onclick="app.search('gemini')" class="p-2 rounded-full hover:bg-white/10 text-white/40 hover:text-purple-400 transition-colors" title="Ask Gemini"><i data-lucide="sparkles" class="w-4 h-4"></i></button>
            </div>
        </div>

        <div id="grid-container" class="grid grid-cols-4 sm:grid-cols-5 gap-4 w-full">
            </div>

    </main>

    <form id="lens-form" action="https://www.google.com/searchbyimage/upload" method="POST" enctype="multipart/form-data" target="_blank" class="hidden">
        <input type="file" name="encoded_image" id="lens-input" accept="image/*" onchange="this.form.submit()">
    </form>

    <script>
        const app = {
            init: () => {
                app.renderShortcuts();
                app.startClock();
                app.fetchCrypto(); // 获取币价
                app.fetchWeather(); // 获取天气
                
                // 搜索监听
                document.getElementById('search-input').addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') app.search('google');
                });
                
                lucide.createIcons();
            },

            renderShortcuts: () => {
                const container = document.getElementById('grid-container');
                container.innerHTML = CONFIG.shortcuts.map(s => `
                    <a href="${s.url}" class="glass hover-lift rounded-2xl grid-card group text-center relative overflow-hidden">
                        <div class="absolute inset-0 bg-gradient-to-br from-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"></div>
                        <img src="https://www.google.com/s2/favicons?domain=${new URL(s.url).hostname}&sz=64" 
                             class="w-8 h-8 mb-3 opacity-70 group-hover:opacity-100 transition-all rounded shadow-lg"
                             onerror="this.style.display='none'">
                        <span class="text-xs font-medium text-white/50 group-hover:text-white transition-colors">${s.title}</span>
                    </a>
                `).join('');
            },

            search: (type) => {
                const val = document.getElementById('search-input').value;
                if (type === 'lens') return document.getElementById('lens-input').click();
                if (type === 'gemini') window.location.href = `https://gemini.google.com/app?q=${encodeURIComponent(val)}`;
                else window.location.href = `https://www.google.com/search?q=${encodeURIComponent(val)}`;
            },

            startClock: () => {
                const tick = () => {
                    const now = new Date();
                    const hrs = now.getHours();
                    document.getElementById('clock').innerText = now.toLocaleTimeString('en-GB', {hour:'2-digit', minute:'2-digit'});
                    
                    let greet = 'GOOD EVENING';
                    if (hrs < 12) greet = 'GOOD MORNING';
                    else if (hrs < 18) greet = 'GOOD AFTERNOON';
                    document.getElementById('greeting').innerText = `${greet}, ${CONFIG.greetingName}`;
                };
                tick(); setInterval(tick, 1000);
            },

            // 实时功能：获取加密货币价格 (CoinGecko Free API)
            fetchCrypto: async () => {
                try {
                    const res = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum&vs_currencies=usd');
                    const data = await res.json();
                    document.getElementById('live-btc').innerHTML = `<i data-lucide="bitcoin" class="w-3 h-3"></i> $${data.bitcoin.usd}`;
                    document.getElementById('live-eth').innerHTML = `<i data-lucide="activity" class="w-3 h-3"></i> $${data.ethereum.usd}`;
                    lucide.createIcons();
                } catch(e) { console.log('Crypto API Limit'); }
            },

            // 实时功能：获取天气 (OpenMeteo Free API)
            fetchWeather: async () => {
                try {
                    const {lat, lon} = CONFIG.geo;
                    const res = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current=temperature_2m,weather_code`);
                    const data = await res.json();
                    const temp = Math.round(data.current.temperature_2m);
                    document.getElementById('live-weather').innerHTML = `<i data-lucide="cloud-sun" class="w-3 h-3"></i> ${temp}°C`;
                    lucide.createIcons();
                } catch(e) { console.log('Weather Error'); }
            }
        };

        window.onload = app.init;
    </script>
</body>
</html>
